<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>PageFlo Class: Continuity</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.doflo.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top ">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">PageFlo</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="document.html">document</a></li><li><a href="MutationHandler.html">MutationHandler</a></li><li><a href="PFLO.html">PFLO</a></li><li><a href="PFLO.browser.html">PFLO.browser</a></li><li><a href="PFLO.constants.html">PFLO.constants</a></li><li><a href="PFLO.plugins.html">PFLO.plugins</a></li><li><a href="PFLO.plugins.AutoXHR.html">PFLO.plugins.AutoXHR</a></li><li><a href="PFLO.plugins.BW.html">PFLO.plugins.BW</a></li><li><a href="PFLO.plugins.CACHE_RELOAD.html">PFLO.plugins.CACHE_RELOAD</a></li><li><a href="PFLO.plugins.Clicks.html">PFLO.plugins.Clicks</a></li><li><a href="PFLO.plugins.ConsentInlinedPlugin.html">PFLO.plugins.ConsentInlinedPlugin</a></li><li><a href="PFLO.plugins.Continuity.html">PFLO.plugins.Continuity</a></li><li><a href="PFLO.plugins.CT.html">PFLO.plugins.CT</a></li><li><a href="PFLO.plugins.DFE.html">PFLO.plugins.DFE</a></li><li><a href="PFLO.plugins.DNS.html">PFLO.plugins.DNS</a></li><li><a href="PFLO.plugins.Early.html">PFLO.plugins.Early</a></li><li><a href="PFLO.plugins.Errors.html">PFLO.plugins.Errors</a></li><li><a href="PFLO.plugins.EventTiming.html">PFLO.plugins.EventTiming</a></li><li><a href="PFLO.plugins.GUID.html">PFLO.plugins.GUID</a></li><li><a href="PFLO.plugins.History.html">PFLO.plugins.History</a></li><li><a href="PFLO.plugins.IFrameDelay.html">PFLO.plugins.IFrameDelay</a></li><li><a href="PFLO.plugins.IPv6.html">PFLO.plugins.IPv6</a></li><li><a href="PFLO.plugins.Memory.html">PFLO.plugins.Memory</a></li><li><a href="PFLO.plugins.Mobile.html">PFLO.plugins.Mobile</a></li><li><a href="PFLO.plugins.NavigationTiming.html">PFLO.plugins.NavigationTiming</a></li><li><a href="PFLO.plugins.PaintTiming.html">PFLO.plugins.PaintTiming</a></li><li><a href="PFLO.plugins.ResourceTiming.html">PFLO.plugins.ResourceTiming</a></li><li><a href="PFLO.plugins.RT.html">PFLO.plugins.RT</a></li><li><a href="PFLO.plugins.SPA.html">PFLO.plugins.SPA</a></li><li><a href="PFLO.plugins.TPAnalytics.html">PFLO.plugins.TPAnalytics</a></li><li><a href="PFLO.plugins.UserTiming.html">PFLO.plugins.UserTiming</a></li><li><a href="PFLO.session.html">PFLO.session</a></li><li><a href="PFLO.utils.html">PFLO.utils</a></li><li><a href="PFLO.utils.Compression.html">PFLO.utils.Compression</a></li><li><a href="PFLO_mq.html">PFLO_mq</a></li><li><a href="ProxyXHRImplementation.html">ProxyXHRImplementation</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="events.list.html" class="dropdown-toggle" data-toggle="dropdown">Events<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="document.html#event:onBeforePageFloBeacon">document#event:onBeforePageFloBeacon</a></li><li><a href="document.html#event:onPageFloBeacon">document#event:onPageFloBeacon</a></li><li><a href="document.html#event:onPageFloLoaded">document#event:onPageFloLoaded</a></li><li><a href="PFLO.html#event:beacon">PFLO#event:beacon</a></li><li><a href="PFLO.html#event:before_beacon">PFLO#event:before_beacon</a></li><li><a href="PFLO.html#event:before_early_beacon">PFLO#event:before_early_beacon</a></li><li><a href="PFLO.html#event:before_unload">PFLO#event:before_unload</a></li><li><a href="PFLO.html#event:click">PFLO#event:click</a></li><li><a href="PFLO.html#event:config">PFLO#event:config</a></li><li><a href="PFLO.html#event:dom_loaded">PFLO#event:dom_loaded</a></li><li><a href="PFLO.html#event:error">PFLO#event:error</a></li><li><a href="PFLO.html#event:form_submit">PFLO#event:form_submit</a></li><li><a href="PFLO.html#event:netinfo">PFLO#event:netinfo</a></li><li><a href="PFLO.html#event:page_load_beacon">PFLO#event:page_load_beacon</a></li><li><a href="PFLO.html#event:page_ready">PFLO#event:page_ready</a></li><li><a href="PFLO.html#event:page_unload">PFLO#event:page_unload</a></li><li><a href="PFLO.html#event:prerender_to_visible">PFLO#event:prerender_to_visible</a></li><li><a href="PFLO.html#event:rage_click">PFLO#event:rage_click</a></li><li><a href="PFLO.html#event:spa_cancel">PFLO#event:spa_cancel</a></li><li><a href="PFLO.html#event:spa_init">PFLO#event:spa_init</a></li><li><a href="PFLO.html#event:spa_navigation">PFLO#event:spa_navigation</a></li><li><a href="PFLO.html#event:visibility_changed">PFLO#event:visibility_changed</a></li><li><a href="PFLO.html#event:xhr_error">PFLO#event:xhr_error</a></li><li><a href="PFLO.html#event:xhr_init">PFLO#event:xhr_init</a></li><li><a href="PFLO.html#event:xhr_load">PFLO#event:xhr_load</a></li><li><a href="PFLO.html#event:xhr_send">PFLO#event:xhr_send</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="tutorials.list.html" class="dropdown-toggle" data-toggle="dropdown">Tutorials<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="tutorial-README.template.html">README.template</a></li><li><a href="tutorial-building.html">Building</a></li><li><a href="tutorial-contributing.html">Contributing</a></li><li><a href="tutorial-creating-plugins.html">Creating Plugins</a></li><li><a href="tutorial-header-snippets.html">Header Snippets</a></li><li><a href="tutorial-howtos.html">How-Tos</a></li><li><a href="tutorial-loader-snippet.html">Non-Blocking Loader Snippet</a></li><li><a href="tutorial-methodology.html">Methodology</a></li><li><a href="tutorial-page-overrides.html">Page Overrides</a></li><li><a href="tutorial-perf-tests.html">Performance Tests</a></li><li><a href="tutorial-tests.html">Tests</a></li><li><a href="tutorial-version-history.html">Version History</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">Global<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="global.html#PFLO_check_doc_domain">PFLO_check_doc_domain</a></li><li><a href="global.html#PFLO_lstart">PFLO_lstart</a></li><li><a href="global.html#PFLO_onload">PFLO_onload</a></li><li><a href="global.html#PFLO_start">PFLO_start</a></li>
				</ul>
			</li>
			
		</ul>
        
            <div class="col-sm-3 col-md-3">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                        <div class="input-group-btn">
                            <button class="btn btn-default" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                        </div>
                    </div>
                </form>
            </div>
        
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
			


    
    <section>

    <header>
        
            <h1>
                <span class="ancestors"><a href="PFLO.html">PFLO</a><a href="PFLO.plugins.html">.plugins</a>.</span>
            
            Continuity
            </h1>
            
        
    </header>


    <article>
        <div class="container-overview">
        
            
<hr>
<dt>
    

    
</dt>
<dd>

    
    <div class="description">
        <p>The Continuity plugin measures performance and user experience metrics beyond
just the traditional Page Load timings.</p>
<p>This plugin has a corresponding <a href="tutorial-header-snippets.html">Header Snippets</a> that helps measure events prior to PageFlo loading.</p>
<h2>Approach</h2>
<p>The goal of the Continuity plugin is to capture the important aspects of your
visitor's overall <em>user experience</em> during page load and beyond.  For example, the
plugin measures when the site appeared <em>Visually Ready</em>, and when it was <em>Interactive</em>.</p>
<p>In addition, the Continuity plugin captures in-page interactions (such as keys,
clicks and scrolls), and monitors how the site performed when responding to
these inputs.</p>
<p>Finally, the Continuity plugin is utilizing cutting-edge browser
performance APIs like <a href="https://w3c.github.io/longtasks/">LongTasks</a> to get
important insights into how the browser is performing.</p>
<p>Here are some of the metrics that the Continuity plugin captures:</p>
<ul>
<li>Timers:
<ul>
<li><strong>Time to Visually Ready</strong>: When did the user feel like they could interact
with the site?  When did it look ready? (see below for details)</li>
<li><strong>Time to Interactive</strong>: After the page was Visually Ready, when was the
first time the user could have interacted with the site, and had a
good (performant) experience? (see below for details)</li>
<li><strong>Time to First Interaction</strong>: When was the first time the user tried to
interact (key, click or scroll) with the site?</li>
<li><strong>First Input Delay</strong>: For the first interaction on the page, how
responsive was it?</li>
</ul>
</li>
<li>Interaction metrics:
<ul>
<li><strong>Interactions</strong>: Keys, mouse movements, clicks, and scrolls (counts and
an event log)</li>
<li><strong>Delayed Interactions</strong>: How often was the user's interaction delayed
more than 50ms?</li>
<li><strong>Rage Clicks</strong>: Did the user repeatedly clicked on the same element/region?</li>
</ul>
</li>
<li>Page performance metrics:
<ul>
<li><strong>Frame Rate data</strong>: FPS during page load, minimum FPS, number of long frames</li>
<li><strong>Long Task data</strong>: Number of Long Tasks, how much time they took, attribution
to what caused them</li>
<li><strong>Page Busy</strong>: Measurement of the page's busyness</li>
</ul>
</li>
</ul>
<p>This data is captured during the page load, as well as when the user later
interacts with the site (if configured via
<a href="PFLO.plugins.Continuity.html#.init"><code><code>afterOnload</code></code></a>).
These metrics are reported at regular intervals, so you can see how they
change over time.</p>
<p>If configured, the Continuity plugin can send additional beacons after a page
interaction happens (via <a href="PFLO.plugins.Continuity.html#.init"><code><code>monitorInteractions</code></code></a>).</p>
<h2>Configuration</h2>
<p>The <code>Continuity</code> plugin has a variety of options to configure what it does (and
what it doesn't do):</p>
<h3>Monitoring Long Tasks</h3>
<p>If <a href="PFLO.plugins.Continuity.html#.init"><code><code>monitorLongTasks</code></code></a> is turned on,
the Continuity plugin will monitor <a href="https://w3c.github.io/longtasks/">Long Tasks</a>
(if the browser supports it).</p>
<p>Long Tasks represent work being done on the browser's UI thread that monopolize
the UI thread and block other critical tasks from being executed (such as reacting
to user input).  Long Tasks can be caused by anything from JavaScript
execution, to parsing, to layout.  The browser fires <code>LongTask</code> events
(via the <code>PerformanceObserver</code>) when a task takes over 50 milliseconds to execute.</p>
<p>Long Tasks are important to measure as a Long Task will block all other user input
(e.g. clicks, keys and scrolls).</p>
<p>Long Tasks are powerful because they can give <em>attribution</em> about what component
caused the task, i.e. the source JavaScript file.</p>
<p>If <a href="PFLO.plugins.Continuity.html#.init"><code><code>monitorLongTasks</code></code></a> is enabled:</p>
<ul>
<li>A <code>PerformanceObserver</code> will be turned on to capture all Long Tasks that happen
on the page.</li>
<li>Long Tasks will be used to calculate <em>Time to Interactive</em></li>
<li>A log (<code>c.lt</code>), timeline (<code>c.t.longtask</code>) and other Long Task metrics (<code>c.lt.*</code>) will
be added to the beacon (see Beacon Parameters details below)</li>
</ul>
<p>The log <code>c.lt</code> is a JSON (or JSURL) object of compressed <code>LongTask</code> data.  See
the source code for what each attribute maps to.</p>
<p>Long Tasks are currently a cutting-edge browser feature and will not be available
in older browsers.</p>
<p>Enabling Long Tasks should not have a performance impact on the page load experience,
as collecting of the tasks are via the lightweight <code>PerformanceObserver</code> interface.</p>
<h3>Monitoring Page Busy</h3>
<p>If <a href="PFLO.plugins.Continuity.html#.init"><code><code>monitorPageBusy</code></code></a> is turned on,
the Continuity plugin will measure Page Busy.</p>
<p>Page Busy is a way of measuring how much work was being done on the page (how &quot;busy&quot;
it was).  Page Busy is calculated via <code>setInterval()</code> polling: a timeout is scheduled
on the page at a regular interval, and <em>busyness</em> is detected if that timeout does
not fire at the time it was expected to.</p>
<p>Page Busy is a percentage -- 100% means that the browser was entirely busy doing other
things, while 0% means the browser was idle.</p>
<p>Page Busy is <em>just an estimate</em>, as it uses sampling.  As an example, if you have
a high number of small tasks that execute frequently, Page Busy might run at
a frequency that it either detects 100% (busy) or 0% (idle).</p>
<p>Page Busy is not the most efficient way of measuring what the browser is doing,
but since it is calculated via <code>setInterval()</code>, it is supported in all browsers.
The Continuity plugin currently measures Page Busy by polling every 32 milliseconds.</p>
<p>Page Busy can be an indicator of how likely the user will have a good experience
when they interact with it. If Page Busy is 100%, the user may see the page lag
behind their input.</p>
<p>If <a href="PFLO.plugins.Continuity.html#.init"><code><code>monitorPageBusy</code></code></a> is enabled:</p>
<ul>
<li>The Page Busy monitor will be active (polling every 32 milliseconds) (unless
Long Tasks is supported and enabled)</li>
<li>Page Busy will be used to calculate <em>Time to Interactive</em></li>
<li>A timeline (<code>c.t.busy</code>) and the overall Page Busy % (<code>c.b</code>) will be added to the
beacon (see Beacon Parameters details below)</li>
</ul>
<p>Enabling Page Busy monitoring should not have a noticeable effect on the page load
experience.  The 32-millisecond polling is lightweight and should barely register
on JavaScript CPU profiles.</p>
<h3>Monitoring Frame Rate</h3>
<p>If <a href="PFLO.plugins.Continuity.html#.init"><code><code>monitorFrameRate</code></code></a> is turned on,
the Continuity plugin will measure the Frame Rate of the page via
<a href="https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame"><code>requestAnimationFrame</code></a>.</p>
<p><code>requestAnimationFrame</code> is a browser API that can be used to schedule animations
that run at the device's refresh rate.  It can also be used to measure how many
frames were actually delivered to the screen, which can be an indicator of how
good the user's experience is.</p>
<p><code>requestAnimationFrame</code> is available in
<a href="https://caniuse.com/#feat=requestanimationframe">all modern browsers</a>.</p>
<p>If <a href="PFLO.plugins.Continuity.html#.init"><code><code>monitorFrameRate</code></code></a> is enabled:</p>
<ul>
<li><code>requestAnimationFrame</code> will be used to measure Frame Rate</li>
<li>Frame Rate will be used to calculate <em>Time to Interactive</em></li>
<li>A timeline (<code>c.t.fps</code>) and many Frame Rate metrics (<code>c.f.*</code>) will be added to the
beacon (see Beacon Parameters details below)</li>
</ul>
<p>Enabling Frame Rate monitoring should not have a noticeable effect on the page load
experience.  The frame callback may happen up to the device's refresh rate (which
is often 60 FPS), and the work done in the callback should be barely visible
in JavaScript CPU profiles (often less than 5ms over a page load).</p>
<h3>Monitoring Interactions</h3>
<p>If <a href="PFLO.plugins.Continuity.html#.init"><code><code>monitorInteractions</code></code></a> is turned on,
the Continuity plugin will measure user interactions during the page load and beyond.</p>
<p>Interactions include:</p>
<ul>
<li>Mouse Clicks: Where the user clicked on the screen
<ul>
<li>Rage Clicks: Clicks to the same area repeatedly</li>
</ul>
</li>
<li>Mouse Movement: Rough mouse movement will be tracked, but these interactions will
not send a beacon on their own, nor be used for <em>Time to First Interaction</em>
calculations.</li>
<li>Keyboard Presses: Individual key codes are not captured</li>
<li>Scrolls: How frequently and far the user scrolled
<ul>
<li>Distinct Scrolls: Scrolls that happened over 2 seconds since the last scroll</li>
</ul>
</li>
<li>Page Visibility changes</li>
<li>Orientation changes</li>
<li>Pointer Down and Up, Mouse Down and Touch Start:
Timestamp of these events is used to track and calculate interaction metrics
like <em>First Input Delay</em></li>
</ul>
<p>These interactions are monitored and instrumented throughout the page load.  By using
the event's <code>timeStamp</code>, we can detect how long it took for the physical event (e.g.
mouse click) to execute the JavaScript listening handler (in the Continuity plugin).
If there is a delay, this is tracked as an <em>Interaction Delay</em>.  Interaction Delays
can be an indicator that the user is having a degraded experience.</p>
<p>The very first interaction delay will be added to the beacon as the
<em>First Input Delay</em> - this is tracked as the user's first experience
with your site is important.</p>
<p>In addition, if <a href="PFLO.plugins.Continuity.html#.init"><code><code>afterOnLoad</code></code></a> is enabled,
these interactions (except Mouse Movements) can also trigger an <code>interaction</code>
beacon after the Page Load.  <a href="PFLO.plugins.Continuity.html#.init"><code><code>afterOnLoadMaxLength</code></code></a>
can be used to control how many milliseconds after Page Load interactions will be
measured for.</p>
<p>After a post-Load interaction occurs, the plugin will wait for
<a href="PFLO.plugins.Continuity.html#.init"><code><code>afterOnLoadMinWait</code></code></a> milliseconds before
sending the <code>interaction</code> beacon.  If another interaction happens within that
timeframe, the plugin will wait another <a href="PFLO.plugins.Continuity.html#.init"><code><code>afterOnLoadMinWait</code></code></a>
milliseconds.  This is to ensure that groups of interactions will be batched
together.  The plugin will wait up to 60 seconds to batch groups of interactions
together, at which point a beacon will be sent immediately.</p>
<p>If <a href="PFLO.plugins.Continuity.html#.init"><code><code>monitorInteractions</code></code></a> is enabled:</p>
<ul>
<li>Passive event handlers will be added to monitor clicks, keys, etc.</li>
<li>A log and many interaction metrics (<code>c.i.*</code>, <code>c.ttfi</code>) will be added to the
beacon (see Beacon Parameters details below)</li>
</ul>
<p>For <code>interaction</code> beacons, the following will be set:</p>
<ul>
<li><code>rt.tstart</code> will be the timestamp of the first interaction</li>
<li><code>rt.end</code> will be the timestamp of the last interaction</li>
<li><code>rt.start = 'manual'</code></li>
<li><code>http.initiator = 'interaction'</code></li>
</ul>
<p>Enabling interaction monitoring will add lightweight passive event handlers
to <code>scroll</code>, <code>click</code>, <code>mousemove</code> and <code>keydown</code> events.  These event handlers
should not delay the user's interaction, and are used to measure delays and
keep a log of interaction events.</p>
<h3>Monitoring Page Statistics</h3>
<p>If <a href="PFLO.plugins.Continuity.html#.init"><code><code>monitorStats</code></code></a> is turned on,
the Continuity plugin will measure statistics about the page and browser over time.</p>
<p>These statistics include:</p>
<ul>
<li>Memory Usage: <code>usedJSHeapSize</code> (Chrome-only)</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Battery_Status_API">Battery Level</a></li>
<li>DOM Size: Number of bytes of HTML in the root frame</li>
<li>DOM Length: Number of DOM nodes in the root frame</li>
<li>Mutations: How often and how much the page is changing</li>
</ul>
<p>If <a href="PFLO.plugins.Continuity.html#.init"><code><code>monitorStats</code></code></a> is enabled:</p>
<ul>
<li>Events and polls will be setup to monitor the above statistics</li>
<li>A timeline (<code>c.t.*</code>) of these statistics will be added to the beacon (see
details below)</li>
</ul>
<p>Enabling Page Statistic monitoring adds a poll to the page every second, gathering
the above statistics.  These statistics should take less than 5ms JavaScript CPU
on a desktop browser each poll, but this monitoring is probably the most
expensive of the Continuity plugin monitors.</p>
<p>This option is off by default, and can be turned on via the
<a href="PFLO.plugins.Continuity.html#.init"><code><code>monitorStats</code></code></a> config option.</p>
<h3>Monitoring Layout Shifts</h3>
<p>If <a href="PFLO.plugins.Continuity.html#.init"><code><code>monitorLayoutShifts</code></code></a> is turned on,
the Continuity plugin will measure visual instability via the
<a href="https://github.com/WICG/layout-instability">Layout Instability API</a>, and will calculate the Cumulative
Layout Shift (CLS) score.</p>
<p>The Cumulative Layout Shift (CLS) score approximates the severity of visual layout changes by monitoring
how DOM nodes shift during the user experience.  A CLS of <code>0</code> indicates a stable view where no DOM nodes shifted.  Each
time an unexpected layout shifts occur, the CLS increases.  CLS is represented in decimal form, with a value of <code>0.1</code>
indicating a fraction of the screen's elements were affected.  CLS values can be larger than <code>1.0</code> if the
layout shifts multiple times.</p>
<p>See <a href="https://web.dev/cls/">web.dev/cls</a> for a more detailed explanation.</p>
<p>CLS is included on the beacon as <code>c.cls</code>, and resets each beacon, so represents the CLS since the last beacon.</p>
<p>This option is on by default, and can be disabled via the
<a href="PFLO.plugins.Continuity.html#.init"><code><code>monitorLayoutShifts</code></code></a> config option.</p>
<h2>New Timers</h2>
<p>There are 4 new timers from the Continuity plugin that center around user
interactions:</p>
<ul>
<li><strong>Time to Visually Ready</strong> (VR)</li>
<li><strong>Time to Interactive</strong> (TTI)</li>
<li><strong>Time to First Interaction</strong> (TTFI)</li>
<li><strong>First Input Delay</strong> (FID)</li>
</ul>
<p><em>Time to Interactive</em> (TTI), at it's core, is a measurement (timestamp) of when the
page was interact-able. In other words, at what point does the user both believe
the page could be interacted with, and if they happened to try to interact with
it then, would they have a good experience?</p>
<p>To calculate Time to Interactive, we need to figure out two things:</p>
<ul>
<li>Does the page appear to the visitor to be interactable?
<ul>
<li>We'll use one or more Visually Ready Signals to determine this</li>
</ul>
</li>
<li>If so, what's the first time a user could interact with the page and have a good
experience?
<ul>
<li>We'll use several Time to Interactive Signals to determine this</li>
</ul>
</li>
</ul>
<h3>Visually Ready</h3>
<p>For the first question, &quot;does the page appear to be interactable?&quot;, we need to
determine when the page would <em>look</em> to the user like they <em>could</em> interact with it.</p>
<p>It's only after this point that TTI could happen. Think of Visually Ready (VR) as
the anchor point of TTI -- it's the earliest possible timestamp in the page's
lifecycle that TTI could happen.</p>
<p>We have a few signals that might be appropriate to use as Visually Ready:</p>
<ul>
<li>First Paint (if available)
<ul>
<li>We should wait at least for the first paint on the page</li>
<li>i.e. IE's <a href="https://msdn.microsoft.com/en-us/library/ff974719"><code>msFirstPaint</code></a>
or Chrome's <code>firstPaintTime</code></li>
<li>These might just be paints of white, so they're not the only signal we should use</li>
</ul>
</li>
<li>First Contentful Paint (if available)
<ul>
<li>Via <a href="https://www.w3.org/TR/paint-timing/">PaintTiming</a></li>
</ul>
</li>
<li>Largest Contentful Paint (if available)
<ul>
<li>Via <a href="https://wicg.github.io/largest-contentful-paint/">Largest Contentful Paint API</a></li>
</ul>
</li>
<li><a href="https://msdn.microsoft.com/en-us/library/ff974719">domContentLoadedEventEnd</a>
<ul>
<li>&quot;The DOMContentLoaded event is fired when the initial HTML document has been
completely loaded and parsed, without waiting for stylesheets, images,
and subframes to finish loading&quot;</li>
<li>This happens after <code>domInteractive</code></li>
<li>Available in NavigationTiming browsers via a timestamp and all other
browser if we're on the page in time to listen for readyState change events</li>
</ul>
</li>
<li>Hero Images (if defined)
<ul>
<li>Instead of tracking all Above-the-Fold images, it could be useful to know
which specific images are important to the site owner</li>
<li>Defined via a simple CSS selector (e.g. <code>.hero-images</code>)</li>
<li>Can be measured via ResourceTiming</li>
<li>Will add Hero Images Ready <code>c.tti.hi</code> to the beacon</li>
</ul>
</li>
<li>&quot;My Framework is Ready&quot; (if defined)
<ul>
<li>A catch-all for other things that we can't automatically track</li>
<li>This would be an event or callback from the page author saying their page is ready</li>
<li>They could fire this for whatever is important to them, i.e. when their page's
click handlers have all registered</li>
<li>Will add Framework Ready <code>c.tti.fr</code> to the beacon</li>
</ul>
</li>
</ul>
<p>Once the last of all of the above have happened, Visually Ready has occurred.</p>
<p>Visually Ready will add <code>c.tti.vr</code> to the beacon.</p>
<h4>Controlling Visually Ready via Framework Ready</h4>
<p>There are two additional options for controlling when Visually Ready happens:
via Framework Ready or Hero Images.</p>
<p>If you want to wait for your framework to be ready (e.g. your SPA has loaded or
a button has a click handler registered), you can add an
option <a href="PFLO.plugins.Continuity.html#.init"><code><code>ttiWaitForFrameworkReady</code></code></a>.</p>
<p>Once enabled, TTI won't be calculated until the following is called:</p>
<pre class="prettyprint source"><code>// my framework is ready
if (PFLO && PFLO.plugins && PFLO.plugins.Continuity) {
    PFLO.plugins.Continuity.frameworkReady();
}
</code></pre>
<h4>Controlling Visually Ready via Hero Images</h4>
<p>If you want to wait for your hero/main images to be loaded before Visually Ready
is measured, you can give the plugin a CSS selector via
<a href="PFLO.plugins.Continuity.html#.init"><code><code>ttiWaitForHeroImages</code></code></a>.
If set, Visually Ready will be delayed until all IMGs that match that selector
have loaded, e.g.:</p>
<pre class="prettyprint source"><code>PFLO.init({
  ...
  Continuity: {
    enabled: true,
    ttiWaitForHeroImages: &quot;.hero-image&quot;
  }
});
</code></pre>
<p>Note this only works in ResourceTiming-supported browsers (and won't be used in
older browsers).</p>
<p>If no images match the CSS selector at Page Load, this setting will be ignored
(the plugin will not wait for a match).</p>
<h3>Time to Interactive</h3>
<p>After the page is Visually Ready for the user, if they were to try to interact
with the page (click, scroll, type), when would they have a good experience (i.e.
the page responded in a satisfactory amount of time)?</p>
<p>We can use some of the signals below, when available:</p>
<ul>
<li>Frame Rate (FPS)
<ul>
<li>Available in all modern browsers: by using <code>requestAnimationFrame</code> we can
get a sense of the overall frame rate (FPS)</li>
<li>To ensure a &quot;smooth&quot; page load experience, ideally the page should never drop
below 20 FPS.</li>
<li>20 FPS gives about 50ms of activity to block the main thread at any one time</li>
</ul>
</li>
<li>Long Tasks
<ul>
<li>Via the PerformanceObserver, a Long Tasks fires any time the main thread
was blocked by a task that took over 50ms such as JavaScript, layout, etc</li>
<li>Great indicator both that the page would not have been interact-able and
in some cases, attribution as to why</li>
</ul>
</li>
<li>Page Busy via <code>setInterval</code>
<ul>
<li>By measuring how long it takes for a regularly-scheduled callback to fire,
we can detect other tasks that got in the way</li>
<li>Can give an estimate for Page Busy Percentage (%)</li>
<li>Available in every browser</li>
</ul>
</li>
<li>Delayed interactions
<ul>
<li>If the user interacted with the page and there was a delay in responding
to the input</li>
</ul>
</li>
</ul>
<p>The <a href="PFLO.plugins.Continuity.html#.init"><code><code>waitAfterOnload</code></code></a> option will delay
the beacon for up to that many milliseconds if Time to Interactive doesn't
happen by the browser's <code>load</code> event.  You shouldn't set it too high, or
the likelihood that the page load beacon will be lost increases (because of
the user navigating away first, or closing their browser). If
<a href="PFLO.plugins.Continuity.html#.init"><code><code>waitAfterOnload</code></code></a> is reached and TTI
hasn't happened yet, the beacon will be sent immediately (missing the TTI timer).</p>
<p>If you set <a href="PFLO.plugins.Continuity.html#.init"><code><code>waitAfterOnload</code></code></a> to <code>0</code>
(or it's not set), PageFlo will send the beacon at the regular page load
event.  If TTI didn't yet happen, it won't be reported.</p>
<p>If you want to set <a href="PFLO.plugins.Continuity.html#.init"><code><code>waitAfterOnload</code></code></a>,
we'd recommend a value between <code>1000</code> and <code>5000</code> (1 and 5 seconds).</p>
<p>Time to Interaction will add <code>c.tti</code> to the beacon.  It will also add <code>c.tti.m</code>,
which is the higest-accuracy method available for TTI calculation: <code>lt</code> (Long Tasks),
<code>raf</code> (FPS), or <code>b</code> (Page Busy).</p>
<h4>Algorithm</h4>
<p>Putting these two timers together, here's how we measure Visually Ready and
Time to Interactive:</p>
<ol>
<li>
<p>Determine the highest Visually Ready timestamp (VRTS):</p>
<ul>
<li>Largest Contentful Paint (if available)</li>
<li>First Contentful Paint (if available)</li>
<li>First Paint (if available)</li>
<li><code>domContentLoadedEventEnd</code></li>
<li>Hero Images are loaded (if configured)</li>
<li>Framework Ready (if configured)</li>
</ul>
</li>
<li>
<p>After VRTS, calculate Time to Interactive by finding the first period of
500ms where all of the following are true:</p>
<ul>
<li>There were no Long Tasks</li>
<li>The FPS was always above 20 (if available)</li>
<li>Page Busy was less than 10% (if the above aren't available)</li>
</ul>
</li>
</ol>
<h3>Time to First Interaction</h3>
<p>Time to First Interaction (TTFI) is the first time a user interacted with the
page.  This may happen during or after the page's <code>load</code> event.</p>
<p>The events that are tracked are:</p>
<ul>
<li>Mouse Clicks</li>
<li>Keyboard Presses</li>
<li>Scrolls</li>
<li>Page Visibility changes</li>
<li>Orientation changes</li>
</ul>
<p>Time to First Interaction is not affected by Mouse Movement.</p>
<p>Time to First Interaction will add <code>c.ttfi</code> to the beacon.</p>
<p>If the user does not interact with the page by the beacon, there will be no
<code>c.ttfi</code> on the beacon.</p>
<h3>First Input Delay</h3>
<p>If the user interacted with the page by the time the beacon was sent, the
Continuity plugin will also measure how long it took for the JavaScript
event handler to fire.</p>
<p>This can give you an indication of the page being otherwise busy and unresponsive
to the user if the callback is delayed.</p>
<p>This time (measured in milliseconds) is added to the beacon as <code>c.fid</code>.</p>
<p>The polyfill for FirstInputDelay calculation from previous version of this plugin
has been updated to match the latest industry standards for FID. This polyfill now
evaluates click, mousedown, keydown, touchstart, pointerdown followed by pointerup
events as indicators for First Input Delay calculations.</p>
<p>Note if the <a href="PFLO.plugins.EventTiming.html"><code><code>EventTiming</code></code></a> plugin is included,
this measurement is deferred to the First Input Delay calculated by that plugin.</p>
<h2>Timelines</h2>
<p>If <a href="PFLO.plugins.Continuity.html#.init"><code><code>sendTimeline</code></code></a> is enabled, many of
the above options will add bucketed &quot;timelines&quot; to the beacon.</p>
<p>The Continuity plugin keeps track of statistics, interactions and metrics over time
by keeping track of these counts at a granularity of 100-millisecond intervals.</p>
<p>As an example, if you are measuring Long Tasks, its timeline will have entries
whenever a Long Task occurs.</p>
<p>Not every timeline will have data for every interval.  As an example, the click
timeline will be sparse except for the periods where there was a click.  Statistics
like DOM Size are captured only once every second.  The Continuity plugin is
optimized to use as little memory as possible for these cases.</p>
<h3>Compressed Timeline Format</h3>
<p>If <a href="PFLO.plugins.Continuity.html#.init"><code><code>sendTimeline</code></code></a> is enabled, the
Continuity plugin will add several timelines as <code>c.t.[name]</code> to the beacon
in a compressed format.</p>
<p>An example timeline may look like this:</p>
<pre class="prettyprint source"><code>c.t.fps      = 03*a*657576576566766507575*8*65
c.t.domsz    = 11o3,1o4
c.t.mousepct = 2*5*0053*4*00050718
</code></pre>
<p>The format of the compressed timeline is as follows:</p>
<p><code>[Compression Type - 1 character][Data - everything else]</code></p>
<ul>
<li>Compression Type is a single character that denotes how each timeline's bucket
numbers are compressed:
<ul>
<li><code>0</code> (for smaller numbers):
<ul>
<li>Each number takes a single character, encoded in Base-64</li>
<li>If a number is &gt;= 64, the number is converted to Base-36 and wrapped in
<code>.</code> characters</li>
</ul>
</li>
<li><code>1</code> (for larger numbers)
<ul>
<li>Each number is separated by <code>,</code>s</li>
<li>Each number is encoded in Base-36</li>
</ul>
</li>
<li><code>2</code> (for percentages)
<ul>
<li>Each number takes two characters, encoded in Base-10</li>
<li>If a number is &lt;= 0, it is <code>00</code></li>
<li>If a number is &gt;= 100, it is <code>__</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>In addition, for repeated numbers, the format is as follows:</p>
<p><code>*[Repeat Count]*[Number]</code></p>
<p>Where:</p>
<ul>
<li>Repeat Count is encoded Base-36</li>
<li>Number is encoded per the rules above</li>
</ul>
<p>From the above example, the data would be decompressed to:</p>
<pre class="prettyprint source"><code>c.t.fps =
    [3, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 5, 7, 5, 7, 6, 5, 7, 6, 5, 6, 6, 7, 6, 6,
    5, 0, 7, 5, 7, 5, 6, 6, 6, 6, 6, 6, 6, 6, 5];

c.t.domsz = [2163, 2164];

c.t.mousepct = [0, 0, 0, 0, 0, 53, 0, 0, 0, 0, 5, 7, 18];
</code></pre>
<p>The timeline can be decompressed via
<code><code>decompressBucketLog</code></code>
(for debug builds).</p>
<p>The Continuity Epoch (<code>c.e</code>) and Continuity Last Beacon (<code>c.lb</code>) are timestamps
(Base-36) that indicate what timestamp the first bucket represents.  If both are
given, the Last Beacon timestamp should be used.</p>
<p>For example:</p>
<pre class="prettyprint source"><code>c.e=j5twmlbv       // 1501611350395
c.lb=j5twmlyk      // 1501611351212
c.t.domsz=11o3,1o4 // 2163, 2164 using method 1
</code></pre>
<p>In the above example, the first value of <code>2163</code> (<code>1o3</code> Base-36) happened
at <code>1501611351212</code>.  The second value of <code>2164</code> (<code>1o4</code> Base-36) happened
at <code>1501611351212 + 100 = 1501611351312</code>.</p>
<p>For all of the available timelines, see the Beacon Parameters list below.</p>
<h2>Logs</h2>
<p>If <a href="PFLO.plugins.Continuity.html#.init"><code><code>sendLog</code></code></a> is enabled, the Continuity
plugin will add a log to the beacon as <code>c.l</code>.</p>
<p>The following events will generate a Log entry with the listed parameters:</p>
<ul>
<li>Scrolls (type <code>0</code>):
<ul>
<li><code>y</code>: Y pixels</li>
</ul>
</li>
<li>Clicks (type <code>1</code>):
<ul>
<li><code>x</code>: X pixels</li>
<li><code>y</code>: Y pixels</li>
</ul>
</li>
<li>Mouse Movement (type <code>2</code>):
<ul>
<li>Data is captured at minimum 10 pixel granularity</li>
<li><code>x</code>: X pixels</li>
<li><code>y</code>: Y pixels</li>
</ul>
</li>
<li>Keyboard presses (type <code>3</code>):
<ul>
<li>(no data is captured)</li>
</ul>
</li>
<li>Visibility Changes (type <code>4</code>):
<ul>
<li><code>s</code>
<ul>
<li><code>0</code>: <code>visible</code></li>
<li><code>1</code>: <code>hidden</code></li>
<li><code>2</code>: <code>prerender</code></li>
<li><code>3</code>: <code>unloaded</code></li>
</ul>
</li>
</ul>
</li>
<li>Orientation Changes (type <code>5</code>):
<ul>
<li><code>a</code>: Angle</li>
</ul>
</li>
</ul>
<p>The log is put on the beacon in a compressed format.  Here is an example log:</p>
<pre class="prettyprint source"><code>c.l=214y,xk9,y8p|142c,xk5,y8v|34kh
</code></pre>
<p>The format of the compressed timeline is as follows:</p>
<pre class="prettyprint source"><code>[Type][Timestamp],[Param1 type][Param 1 value],[... Param2 ...]|[... Event2 ...]
</code></pre>
<ul>
<li>Type is a single character indicating what type of event it is, per above</li>
<li>Timestamp (<code>navigationStart</code> epoch in milliseconds) is Base-36 encoded</li>
<li>Each parameter follows, separated by commas:
<ul>
<li>The first character indicates the type of parameter</li>
<li>The subsequent characters are the value of the parameter, Base-36 encoded</li>
</ul>
</li>
</ul>
<p>From the above example, the data would be decompressed to:</p>
<pre class="prettyprint source"><code>[
    {
        &quot;type&quot;: &quot;mouse&quot;,
        &quot;time&quot;: 1474,
        &quot;x&quot;: 729,
        &quot;y&quot;: 313
    },
    {
        &quot;type&quot;: &quot;click&quot;,
        &quot;time&quot;: 5268,
        &quot;x&quot;: 725,
        &quot;y&quot;: 319
    },
    {
        &quot;type&quot;: &quot;key&quot;,
        &quot;time&quot;: 5921,
    }
]
</code></pre>
<p>The plugin will keep track of the last
<a href="PFLO.plugins.Continuity.html#.init"><code><code>logMaxEntries</code></code></a> entries in the log
(default 100).</p>
<p>The timeline can be decompressed via
<code><code>decompressLog</code></code> (for
debug builds).</p>
<h2>Overhead</h2>
<p>When enabled, the Continuity plugin adds new layers of instrumentation to
each page load.  It also keeps some of this instrumentation enabled
after the <code>load</code> event, if configured.  By default, these instrumentation
&quot;monitors&quot; will be turned on:</p>
<ul>
<li>Long Tasks via <code>PerformanceObserver</code></li>
<li>Frame Rate (FPS) via <code>requestAnimationFrame</code></li>
<li>Page Busy via <code>setInterval</code> polling (if Long Tasks aren't supported)</li>
<li>Monitoring of interactions such as mouse clicks, movement, keys, and scrolls</li>
<li>Page statistics like DOM size/length, memory usage, and mutations</li>
</ul>
<p>Each of these monitors is designed to be as lightweight as possible, but
enabling instrumentation will always incur non-zero CPU time.  Please read
the above sections for overhead information on each monitor.</p>
<p>With the Continuity plugin enabled, during page load, you may see the plugin's
total CPU usage over the entire length of that page load reach 10-35ms, depending on
the hardware and makeup of the host-site. In general, for most modern websites,
this means PageFlo should still only account for a few percentage points of
overall page CPU usage with the Continuity plugin enabled.</p>
<p>The majority of this CPU usage increase is from Page Statistics reporting and
FPS monitoring.  You can disable either of these monitors individually if desired
(<a href="PFLO.plugins.Continuity.html#.init"><code><code>monitorStats</code></code></a> and
<a href="PFLO.plugins.Continuity.html#.init"><code><code>monitorFrameRate</code></code></a>).</p>
<p>During idle periods (after page load), the Continuity plugin will continue
monitoring the above items if <a href="PFLO.plugins.Continuity.html#.init"><code><code>afterOnload</code></code></a>
is enabled.  This may increase PageFlo JavaScript CPU usage as well.  Again,
the majority of this CPU usage increase is from Page Statistic reporting and
Frame Rate monitoring, and can be disabled.</p>
<p>When Long Tasks aren't supported by the browser, Page Busy monitoring via
<code>setInterval</code> should only 1-2ms CPU during and after page load.</p>
<h2>Beacon Parameters</h2>
<p>The following parameters will be added to the beacon:</p>
<ul>
<li><code>c.b</code>: Page Busy percentage (Base-10)</li>
<li><code>c.c.r</code>: Rage click count (Base-10)</li>
<li><code>c.c</code>: Click count (Base-10)</li>
<li><code>c.cls</code>: Cumulative Layout Shift score (since last beacon) (Base-10 fraction)</li>
<li><code>c.e</code>: Continuity Epoch timestamp (when everything started measuring) (Base-36)</li>
<li><code>c.f.d</code>: Frame Rate duration (how long it has been measuring) (milliseconds) (Base-10)</li>
<li><code>c.f.l</code>: Number of Long Frames (&gt;= 50ms) (Base-10)</li>
<li><code>c.f.m</code>: Minimum Frame Rate (Base-10) per <code>COLLECTION_INTERVAL</code></li>
<li><code>c.f.s</code>: Frame Rate measurement start timestamp (Base-36)</li>
<li><code>c.f</code>: Average Frame Rate over the Frame Rate Duration (Base-10)</li>
<li><code>c.fid</code>: First Input Delay (milliseconds) (Base-10)</li>
<li><code>c.i.a</code>: Average interaction delay (milliseconds) (Base-10)</li>
<li><code>c.i.dc</code>: Delayed interaction count (Base-10)</li>
<li><code>c.i.dt</code>: Delayed interaction time (milliseconds) (Base-10)</li>
<li><code>c.k.e</code>: Keyboard ESC count (Base-10)</li>
<li><code>c.k</code>: Keyboard event count (Base-10)</li>
<li><code>c.l</code>: Log (compressed)</li>
<li><code>c.lb</code>: Last Beacon timestamp (Base-36)</li>
<li><code>c.lt.n</code>: Number of Long Tasks (Base-10)</li>
<li><code>c.lt.tt</code>: Total duration of Long Tasks (milliseconds) (Base-10)</li>
<li><code>c.lt</code>: Long Task data (compressed)</li>
<li><code>c.m.n</code>: Mouse movement pixels (Base-10)</li>
<li><code>c.m.p</code>: Mouse movement percentage (Base-10)</li>
<li><code>c.s.d</code>: Distinct scrolls (scrolls that happen 2 seconds after the last) (Base-10)</li>
<li><code>c.s.p</code>: Scroll percentage (Base-10)</li>
<li><code>c.s.y</code>: Scroll y (pixels) (Base-10)</li>
<li><code>c.s</code>: Scroll count (Base-10)</li>
<li><code>c.t.click</code>: Click timeline (compressed)</li>
<li><code>c.t.domln</code>: DOM Length timeline (compressed)</li>
<li><code>c.t.domsz</code>: DOM Size timeline (compressed)</li>
<li><code>c.t.fps</code>: Frame Rate timeline (compressed)</li>
<li><code>c.t.inter</code>: Interactions timeline (compressed)</li>
<li><code>c.t.interdly</code>: Delayed Interactions timeline (compressed)</li>
<li><code>c.t.key</code>: Keyboard press timeline (compressed)</li>
<li><code>c.t.longtask</code>: LongTask timeline (compressed)</li>
<li><code>c.t.mem</code>: Memory usage timeline (compressed)</li>
<li><code>c.t.mouse</code>: Mouse movements timeline (compressed)</li>
<li><code>c.t.mousepct</code>: Mouse movement percentage (of full screen) timeline (compressed)</li>
<li><code>c.t.scroll</code>: Scroll timeline (compressed)</li>
<li><code>c.t.scrollpct</code>:Scroll percentage (of full page) timeline (compressed)</li>
<li><code>c.t.mut</code>: DOM Mutations timeline (compressed)</li>
<li><code>c.ttfi</code>: Time to First Interaction (milliseconds) (Base-10)</li>
<li><code>c.tti.fr</code>: Framework Ready (milliseconds) (Base-10)</li>
<li><code>c.tti.hi</code>: Hero Images ready (milliseconds) (Base-10)</li>
<li><code>c.tti.m</code>: Time to Interactive Method (<code>lt</code>, <code>raf</code>, <code>b</code>)</li>
<li><code>c.tti.vr</code>: Visually Ready (milliseconds) (Base-10)</li>
<li><code>c.tti</code>: Time to Interactive (milliseconds) (Base-10)</li>
</ul>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	

	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
        </div>

        

        

        

        

        

        

        
            <h2 class="subsection-title">Methods</h2>

            <dl>
                
<hr>
<dt>
    
        <h3 class="method-name" class="name" id=".frameworkReady">frameworkReady()</h3>
    

    
</dt>
<dd>

    
    <div class="description">
        <p>Signal that the framework is ready</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	

	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

            
                
<hr>
<dt>
    
        <h3 class="method-name" class="name" id=".init">init(config)</h3>
    

    
</dt>
<dd>

    
    <div class="description">
        <p>Initializes the plugin.</p>
    </div>
    

    

    

    
    
        <h4>Parameters:</h4>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>



            
            </td>

            

            

            <td class="description last"><p>Configuration</p>
                <h5 class="method-params-label method-subparams-label">Properties</h5>
                

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>Continuity.monitorLongTasks</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    true
                
                </td>
            

            <td class="description last"><p>Whether or not to
monitor Long Tasks.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Continuity.monitorPageBusy</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    true
                
                </td>
            

            <td class="description last"><p>Whether or not to
monitor Page Busy.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Continuity.monitorFrameRate</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    true
                
                </td>
            

            <td class="description last"><p>Whether or not to
monitor Frame Rate.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Continuity.monitorInteractions</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    true
                
                </td>
            

            <td class="description last"><p>Whether or not to
monitor Interactions.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Continuity.monitorStats</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    true
                
                </td>
            

            <td class="description last"><p>Whether or not to
monitor Page Statistics.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Continuity.monitorLayoutShifts</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    true
                
                </td>
            

            <td class="description last"><p>Whether or not to
monitor Layout Shifts</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Continuity.afterOnload</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>Whether or not to
monitor Long Tasks, Page Busy, Frame Rate, interactions and Page Statistics
after <code>onload</code> (up to <code>afterOnloadMaxLength</code>).</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Continuity.afterOnloadMaxLength</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    60000
                
                </td>
            

            <td class="description last"><p>Maximum time
(milliseconds) after <code>onload</code> to monitor.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Continuity.afterOnloadMinWait</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    5000
                
                </td>
            

            <td class="description last"><p>Minimum
time after an interaction to wait for more interactions before batching
the interactions into a beacon.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Continuity.waitAfterOnload</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>
|

<span class="param-type">number</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>If set
to a <code>number</code>, how long after <code>onload</code> to wait for Time to Interactive to
happen before sending a beacon (without TTI).</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Continuity.ttiWaitForFrameworkReady</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>Whether
or not to wait for <a href="PFLO.plugins.Continuity.html#.frameworkReady"><code>PFLO.plugins.Continuity.frameworkReady</code></a> before
Visually Ready (and thus Time to Interactive) can happen.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Continuity.ttiWaitForHeroImages</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>
|

<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>If
set to a <code>string</code>, the CSS selector will wait until the specified images
have been loaded before Visually Ready (and thus Time to Interactive) can happen.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Continuity.sendLog</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    true
                
                </td>
            

            <td class="description last"><p>Whether or not to
send the event log with each beacon.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Continuity.logMaxEntries</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    100
                
                </td>
            

            <td class="description last"><p>How many log
entries to keep.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Continuity.sendTimeline</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    true
                
                </td>
            

            <td class="description last"><p>Whether or not to
send the timeline with each beacon.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	

	

	

	

	
</dl>


    

    

    

    

    

    
    <h4>Returns:</h4>
    <div class="method-returns">
        
                
<div class="param-desc">
    <p><a href="PFLO.plugins.Continuity.html"><code>PFLO.plugins.Continuity</code></a> The Continuity plugin for chaining</p>
</div>


            
    </div>
    

    
</dd>

            
                
<hr>
<dt>
    
        <h3 class="method-name" class="name" id=".is_complete">is_complete()</h3>
    

    
</dt>
<dd>

    
    <div class="description">
        <p>Whether or not this plugin is complete</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	

	

	

	

	
</dl>


    

    

    

    

    

    
    <h4>Returns:</h4>
    <div class="method-returns">
        
                
    <p>Type: 
<span class="param-type">boolean</span>


</p>

<div class="param-desc">
    <p><code>true</code> if the plugin is complete</p>
</div>


            
    </div>
    

    
</dd>

            </dl>
        

        

        
    </article>

    </section>




		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3 hidden-xs hidden-sm hidden-md"></div>
		</div>
	

</div>
</div>


    <div class="modal fade" id="searchResults">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Search results</h4>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>


<footer>


	<span class="copyright">
	© 2010-2021 doFlo, Inc.
	</span>

<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a>
	
		on Fri Aug 13th 2021
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>

    <script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>


<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre, pre.prettyprint.source" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : true,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->



    <script type="text/javascript">
        $(document).ready(function() {
            SearcherDisplay.init();
        });
    </script>


</body>
</html>